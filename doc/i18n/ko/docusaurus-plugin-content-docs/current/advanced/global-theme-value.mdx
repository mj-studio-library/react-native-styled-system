---
sidebar_position: 1
title: 전역 테마 객체 참조
---

# 전역 테마 객체 참조

React Native Styled System은 React의 Context 외부의 전역에서 테마를 가져오는
방식을 제공하지 않습니다.

그러나 `StyledSystemProvider`에 테마를 전달할 때, 이 테마가 변경되는 당신의 코드에서
전역 객체로 테마를 저장해두고 참조할 수 있습니다.

다음과 같은 `StyledSystemProvider`를 감싸는 당신의 코드의 Wrapper 컴포넌트가 있다고 해보겠습니다.

```tsx
import ...
import StyledSystemTheme from './AppTheme'

export const StyledSystemAppThemeProvider = ({ children }: PropsWithChildren<{}>) => {
  const { sfTop, sfBottom, sfLeft, sfRight } = useSafeAreaValues();

  const theme = useMemo(() => {
    const safeArea = { sfTop, sfRight, sfBottom, sfLeft };
    return {
      ...StyledSystemTheme,
      sizes: { ...StyledSystemTheme.sizes, ...safeArea },
      space: { ...StyledSystemTheme.space, ...safeArea },
    };
  }, [sfLeft, sfTop, sfRight, sfBottom]);

  return <StyledSystemProvider theme={theme}>{children}</StyledSystemProvider>;
};
```

이제 `theme`객체가 변경될 때 이를 전역 변수로 참조할 수 있게 저장합니다.

```tsx
import ...
import StyledSystemTheme from './AppTheme'

// highlight-start
let _globalTheme: ThemedDict = StyledSystemTheme;
export const getGlobalTheme = () => _globalTheme;
// highlight-end

export const StyledSystemAppThemeProvider = ({ children }: PropsWithChildren<{}>) => {
  const { sfTop, sfBottom, sfLeft, sfRight } = useSafeAreaValues();

  const theme = useMemo(() => {
    const safeArea = { sfTop, sfRight, sfBottom, sfLeft };
    return {
      ...StyledSystemTheme,
      sizes: { ...StyledSystemTheme.sizes, ...safeArea },
      space: { ...StyledSystemTheme.space, ...safeArea },
    };
  }, [sfLeft, sfTop, sfRight, sfBottom]);

// highlight-start
  useEffect(() => {
    globalTheme = theme;
  }, [theme]);
// highlight-end

  return <StyledSystemProvider theme={theme}>{children}</StyledSystemProvider>;
};
```

이제 우리의 코드에서 `getGlobalTheme()`를 통해 테마를 참조할 수 있습니다.

:::warning
항상 최신 `theme`값이 참조되지 않을 수 있다는 것을 주의하세요.

예를 들어, `getGlobalTheme()`로 반환된 값을 변수에 저장해두었다가
테마 값이 변경된 이후 사용하려고 하면 이전의 값을 가리키고 있습니다.
:::